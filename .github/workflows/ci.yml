name: Build Preview [using jupyter-book]
on: [pull_request]
jobs:
  preview:
    runs-on: "runs-on=${{ github.run_id }}/family=g4dn.2xlarge/image=quantecon_ami/disk=large"
    steps:
      - uses: actions/checkout@v4
        with:
          ref: ${{ github.event.pull_request.head.sha }}
      - name: Testing
        shell: bash -l {0}
        run: |
          export PATH="/home/runner/anaconda3/bin:$PATH"
          conda init bash
          conda activate quantecon
          python --version
          nvidia-smi
          python scripts/test-jax-install.py
      - name: Testing 2
        shell: bash -l {0}
        run: |
          echo $PATH